# ==============================================================================
# UFW APPLICATION PROFILES FOR I2PD DAEMON
# ==============================================================================
#
# This file defines UFW application profiles for the i2pd (I2P daemon) service.
# These profiles configure firewall rules for different i2pd use cases and
# security requirements.
#
# Installation: Place this file at /etc/ufw/applications.d/i2pd
# Usage: sudo ufw allow I2P
#
# I2P                - Standard router for general use
# I2P-Conservative   - Minimal exposure for security-focused setups
# I2P-Performance    - Maximum performance for dedicated I2P infrastructure
# I2P-HiddenService  - For hosting hidden services (websites, APIs)
# I2P-Development    - Development/testing with web console access
# I2P-Client         - Client-only mode (no routing for others)
# I2P-Electrum       - For running Electrum servers over I2P
# I2P-IPv4           - Explicit IPv4-only configuration
# I2P-Relay          - Dedicated relay node with extended port range
# I2P-Bridge         - Includes HTTP/SOCKS proxy services
# I2P-Console        - Web console access for administration and monitoring
#
# Port Explanations:
# ------------------
#
# 9100-9200    - Standard I2P router port range (NTCP2/SSU2)
# 9000-9300    - Extended range for high-performance routing
# 7070         - I2P web console (localhost access only in production)
# 4444         - HTTP proxy (if enabled)
# 4447         - SOCKS proxy (if enabled)
# 50001-50002  - Electrum server ports (plaintext/SSL)
# 8080         - Common port for hidden web services
#
# Security Notes:
# ---------------
#
# - Local services (SAM, web console) should remain localhost-only
# - Only router ports need external access for I2P participation
# - Choose the most restrictive profile that meets your needs
# - Monitor connection logs to verify adequate port allocation
#
# Generated by Ansible on {{ ansible_date_time.date }}
# ==============================================================================


# ==============================================================================
# STANDARD I2P ROUTER PROFILE
# ==============================================================================
# General-purpose I2P router configuration suitable for most users.
# Provides balanced security and functionality with moderate port range.

[I2P]
title=I2P Router
description=I2P anonymous network router daemon
ports=9100:9200/tcp|9100:9200/udp


# ==============================================================================
# CONSERVATIVE I2P PROFILE (MINIMAL EXPOSURE)
# ==============================================================================
# Security-focused configuration with minimal network exposure.
# Ideal for privacy-conscious users prioritising security over performance.

[I2P-Conservative]
title=I2P Router (Conservative)
description=I2P router with minimal port exposure
ports=9155:9165/tcp|9155:9165/udp


# ==============================================================================
# HIGH-PERFORMANCE I2P PROFILE
# ==============================================================================
# Maximum performance configuration for dedicated I2P infrastructure.
# Uses extended port range to handle high traffic volumes and many connections.

[I2P-Performance]
title=I2P Router (High Performance)
description=I2P router with extended port range for maximum performance
ports=9000:9300/tcp|9000:9300/udp


# ==============================================================================
# I2P HIDDEN SERVICE PROFILE
# ==============================================================================
# Configuration for hosting I2P hidden services (eepsites).
# Includes standard router ports plus common web service port.

[I2P-HiddenService]
title=I2P Hidden Service
description=I2P router configured for hosting hidden services
ports=9100:9200/tcp|9100:9200/udp|8080/tcp


# ==============================================================================
# I2P DEVELOPMENT PROFILE (INCLUDES WEB CONSOLE)
# ==============================================================================
# Development and testing configuration with web console access.
# WARNING: Web console access should be restricted to localhost in production.

[I2P-Development]
title=I2P Router (Development)
description=I2P router with web console access for development
ports=9100:9200/tcp|9100:9200/udp|7070/tcp


# ==============================================================================
# I2P CLIENT-ONLY PROFILE
# ==============================================================================
# Client-only mode that doesn't route traffic for other I2P users.
# Lower resource usage but doesn't contribute to network capacity.

[I2P-Client]
title=I2P Client Only
description=I2P router in client-only mode (no transit traffic)
ports=9150:9180/tcp|9150:9180/udp


# ==============================================================================
# I2P IPv4-ONLY PROFILE
# ==============================================================================
# Explicit IPv4-only configuration for networks without IPv6 support.
# Standard port range with IPv4 protocol enforcement.

[I2P-IPv4]
title=I2P Router IPv4
description=I2P router with explicit IPv4-only configuration
ports=9100:9200/tcp|9100:9200/udp


# ==============================================================================
# I2P RELAY NODE PROFILE
# ==============================================================================
# Dedicated relay node configuration for maximum network contribution.
# Extended port range to handle large volumes of transit traffic.

[I2P-Relay]
title=I2P Relay Node
description=I2P router configured as dedicated relay node
ports=9000:9400/tcp|9000:9400/udp


# ==============================================================================
# I2P BRIDGE PROFILE
# ==============================================================================
# Configuration with HTTP and SOCKS proxy services enabled.
# Allows local applications to access I2P network through proxy interfaces.

[I2P-Bridge]
title=I2P Bridge
description=I2P router with proxy services enabled
ports=9100:9200/tcp|9100:9200/udp|4444/tcp|4447/tcp


# ==============================================================================
# I2P WEB CONSOLE PROFILE
# ==============================================================================
# Web console access for I2P router administration and monitoring.
# SECURITY WARNING: Should only be used with localhost access restrictions.

[I2P-Console]
title=I2P Web Console
description=I2P router with web console for administration
ports=9100:9200/tcp|9100:9200/udp|7070/tcp
