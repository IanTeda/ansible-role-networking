# ==========================================================================
# Systemd Mount Unit for NFS Share
# ==========================================================================
#
# This unit file mounts an NFS share using systemd.
# Generated by Ansible for {{ item.server }}:{{ item.share_path }}
#
# Author: Generated by Ansible
# ==========================================================================

[Unit]
Description=Mount NFS share {{ item.share_path }} from {{ item.server }}
After=network-online.target
Wants=network-online.target
RequiresMountsFor=/etc/nsswitch.conf

[Mount]
What={{ item.server }}:{{ item.share_path }}
Where={{ item.mount_path }}
Type=nfs
Options={{ item.options | default(nfs_default_options) }},_netdev,x-systemd.automount,x-systemd.device-timeout=15s,x-systemd.mount-timeout=30s
TimeoutSec=30

[Install]
WantedBy=multi-user.target